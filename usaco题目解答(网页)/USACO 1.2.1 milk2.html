<html>
<head>
  <title>USACO 1.2.1 milk2</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="360"/>
<h1>USACO 1.2.1 milk2</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">[Milking Cows</span></b><span lang="EN-US" style="font-size:13.5pt;font-family:">]</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:2"><b><span lang="EN-US" style="font-size:18.0pt;font-family:">[</span></b><b><span style="font-size:18.0pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">描述</span></b><b><span lang="EN-US" style="font-size:18.0pt;font-family:">]</span></b></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:9.0pt;font-family:">   </span><span lang="EN-US" style="font-size:9.0pt;mso-bidi-font-size:11.0pt;font-family:"> </span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">三个农民每天清晨</span><span lang="EN-US" style="font-size:12.0pt;font-family:">5</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">点起床，然后去牛棚给</span><span lang="EN-US" style="font-size: 12.0pt;font-family:">3</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">头牛挤奶。第一个农民在</span><span lang="EN-US" style="font-size:12.0pt;font-family:">300</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">时刻</span><span lang="EN-US" style="font-size:12.0pt;font-family:">(</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">从</span><span lang="EN-US" style="font-size:12.0pt; font-family:">5</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">点开始计时，秒为单位</span><span lang="EN-US" style="font-size:12.0pt;font-family:">)</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">给他的牛挤奶，一直到</span><span lang="EN-US" style="font-size:12.0pt;font-family:">1000</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">时刻。第二个农民在</span><span lang="EN-US" style="font-size: 12.0pt;font-family:">700</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">时刻开始，在</span> <span lang="EN-US" style="font-size:12.0pt;font-family:">1200</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">时刻结束。第三个农民在</span><span lang="EN-US" style="font-size:12.0pt;font-family:">1500</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">时刻开始</span><span lang="EN-US" style="font-size:12.0pt; font-family:">2100</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">时刻结束。期间最长的至少有一个农民在挤奶的连续时间为</span><span lang="EN-US" style="font-size:12.0pt; font-family:">900</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">秒</span><span lang="EN-US" style="font-size:12.0pt;font-family:">(</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">从</span><span lang="EN-US" style="font-size:12.0pt;font-family:">300</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">时刻到</span><span lang="EN-US" style="font-size:12.0pt; font-family:">1200</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">时刻</span><span lang="EN-US" style="font-size:12.0pt;font-family:">)</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">，而最长的无人挤奶的连续时间</span><span lang="EN-US" style="font-size:12.0pt;font-family:">(</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">从挤奶开始一直到挤奶结束</span><span lang="EN-US" style="font-size:12.0pt;font-family:">)</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">为</span><span lang="EN-US" style="font-size:12.0pt; font-family:">300</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">时刻</span><span lang="EN-US" style="font-size:12.0pt;font-family:">(</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">从</span><span lang="EN-US" style="font-size:12.0pt;font-family:">1200</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">时刻到</span><span lang="EN-US" style="font-size:12.0pt; font-family:">1500</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">时刻</span><span lang="EN-US" style="font-size:12.0pt;font-family:">)</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">。</span> <span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">你的任务是编一个程序，读入一个有</span><span lang="EN-US" style="font-size:12.0pt;font-family:">N</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">个农民</span><span lang="EN-US" style="font-size:12.0pt; font-family:">(1 &lt;= N &lt;= 5000)</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">挤</span><span lang="EN-US" style="font-size:12.0pt; font-family:">N</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">头牛的工作时间列表，计算以下两点</span><span lang="EN-US" style="font-size:12.0pt; font-family:">(</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">均以秒为单位</span><span lang="EN-US" style="font-size:12.0pt;font-family:">):<br></span><span lang="EN-US" style="font-size:12.0pt;font-family:Symbol;mso-ascii-font-family: Arial;mso-fareast-font-family:宋体;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt;mso-char-type:symbol;mso-symbol-font-family:Symbol">·</span> <span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">最长至少有一人在挤奶的时间段。</span><span lang="EN-US" style="font-size:12.0pt;font-family:"><br></span><span lang="EN-US" style="font-size:12.0pt;font-family:Symbol;mso-ascii-font-family: Arial;mso-fareast-font-family:宋体;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt;mso-char-type:symbol;mso-symbol-font-family:Symbol">·</span> <span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">最长的无人挤奶的时间段。</span><span lang="EN-US" style="font-size:12.0pt;font-family:"><br><br></span><b><span lang="EN-US" style="font-size:13.5pt;font-family:">[</span></b><b><span style="font-size:13.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">格式</span></b><b><span lang="EN-US" style="font-size:13.5pt;font-family:">]<br><br></span></b><span lang="EN-US" style="font-size:12.0pt;font-family:">PROGRAM NAME: milk2 INPUT FORMAT: (file milk2.in)<br>
Line 1:</span> <span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">一个整数</span><span lang="EN-US" style="font-size:12.0pt;font-family:">N</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">。</span><span lang="EN-US" style="font-size:12.0pt;font-family:"><br>
Lines 2..N+1:</span> <span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">每行两个小于</span><span lang="EN-US" style="font-size:12.0pt;font-family:">1000000</span><span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">的非负整数，表示一个农民的开始时刻与结束时刻。</span> <span lang="EN-US" style="font-size:12.0pt;font-family:">OUTPUT FORMAT: (file milk2.out)</span> <span style="font-size:12.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">一行，两个整数，即题目所要求的两个答案。</span><span lang="EN-US" style="font-size:12.0pt;font-family:"><br><br></span><b><span lang="EN-US" style="font-size:13.5pt;font-family:">SAMPLE INPUT</span></b><span lang="EN-US" style="font-size:9.0pt;font-family:"><br>
3<br>
300 1000<br>
700 1200<br>
1500 2100<br><br></span><b><span lang="EN-US" style="font-size:13.5pt;font-family:">SAMPLE OUTPUT</span></b><span lang="EN-US" style="font-size:9.0pt;font-family:"><br>
900 300</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><font face="黑体"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">[</span></b><b><span style="font-size: 13.5pt;">解题报告</span></b><b><span lang="EN-US" style="font-size:13.5pt;font-family:">]</span></b></font></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:12.0pt;font-family:">   </span> <span style="font-size:12.0pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">本题使用离散化思想，把他们按照起始时间排序，然后从左向右扫描，依次合并每个区间，若是区间没有交集，则须判断无人工作时间。直到整理完即可。</span><span lang="EN-US" style="font-size:12.0pt;font-family:">(</span><span style="font-size:12.0pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">清单中的粗体是我粗心的地方</span><span lang="EN-US" style="font-size:12.0pt;font-family:">)</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><font face="黑体"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">[</span></b><b><span style="font-size: 13.5pt;">运行情况</span></b><b><span lang="EN-US" style="font-size:13.5pt;font-family:">]</span></b></font></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:9.0pt;font-family:">Compiling...<br>
Compile: OK<br><br>
Executing...<br>
   Test 1: TEST OK [0.000 secs, 2880 KB]<br>
   Test 2: TEST OK [0.000 secs, 2884 KB]<br>
   Test 3: TEST OK [0.011 secs, 2884 KB]<br>
   Test 4: TEST OK [0.011 secs, 2884 KB]<br>
   Test 5: TEST OK [0.000 secs, 2880 KB]<br>
   Test 6: TEST OK [0.032 secs, 2884 KB]<br>
   Test 7: TEST OK [0.011 secs, 2884 KB]<br>
   Test 8: TEST OK [0.011 secs, 2880 KB]<br><br>
All tests OK.</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:9.0pt;font-family:">Your program ('milk2') produced all correct answers! This is your<br>
submission #4 for this problem.</span><span lang="EN-US" style="font-size:9.0pt; mso-bidi-font-size:11.0pt;font-family:"> <b>Congratulations!//</b></span><span style="font-size:10.0pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">由于粗心严重所以</span><span lang="EN-US" style="font-size:10.0pt;font-family:">orz...</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><font face="黑体"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">[</span></b><b><span style="font-size: 13.5pt;">程序清单</span></b><b><span lang="EN-US" style="font-size:13.5pt;font-family:">]</span></b></font></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"></p><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#include</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&lt;fstream&gt;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">using</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">namespace</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">std;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">struct</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">farmer</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">unsigned</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">sta,end;</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//表示开始时间以及结尾时间</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">};</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">ofstream fout (</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;milk2.out&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,ios::out);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">ifstream fin (</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;milk2.in&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,ios::in);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">farmer nm[5001];</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">n;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">void</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">init()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                fin&gt;&gt;n;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=1;i&lt;=n;i++)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                fin&gt;&gt;nm[i].sta&gt;&gt;nm[i].end;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">void</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">sort(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">l,</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">r);</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">void</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">work()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=1,h=1;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">unsigned</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">min=0,max=0,t=nm[h].end;</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//初始化首个结束时间</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(;i&lt;=n;i++)</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//采用线性扫描,O(nlogn+n)=O(nlogn)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(nm[i].sta&lt;=t)</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//可以扩展</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(nm[i].end-nm[h].sta&gt;max) max=nm[i].end-nm[h].sta;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(nm[i].end&gt;t) t=nm[i].end;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//更新结尾</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">else</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//更新最大空闲时间</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                h=i;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(nm[i].sta-t&gt;min) min=nm[i].sta-t;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(nm[i].end&gt;t) t=nm[i].end;</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//更新结尾</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                fout&lt;&lt;max&lt;&lt;</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">' '</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">&lt;&lt;min&lt;&lt;endl;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">main()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                init();</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                sort(1,n);</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//离散化</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                work();</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">return</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">0;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">void</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">sort(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">l,</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">r)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=l,j=r;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">unsigned</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">x=nm[(l+r)/2].sta,y;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">do</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">while</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(nm[i].sta&lt;x) ++i;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">while</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(nm[j].sta&gt;x) --j;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(i&lt;=j)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                y=nm[i].sta;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                nm[i].sta=nm[j].sta;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                nm[j].sta=y;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                y=nm[i].end;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                nm[i].end=nm[j].end;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                nm[j].end=y;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                ++i;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                --j;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">while</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(i&lt;=j);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(i&lt;r) sort(i,r);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(l&lt;j) sort(l,j);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:2"><font face="黑体"><b><span lang="EN-US" style="font-size: 18pt;">[</span></b><b><span style="font-size: 18pt;">原题</span></b><b><span lang="EN-US" style="font-size: 18pt;">]</span></b></font></p><p align="center" style="text-align:center;mso-pagination:widow-orphan"><b><span lang="EN-US" style="font-size:36.0pt;mso-bidi-font-size:11.0pt;font-family:">Milking Cows</span></b></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:9.0pt;font-family:">Three farmers rise at 5 am each morning and head for the barn to milk three cows. The first farmer begins milking his cow at time 300 (measured in seconds after 5 am) and ends at time 1000. The second farmer begins at time 700 and ends at time 1200. The third farmer begins at time 1500 and ends at time 2100. The longest continuous time during which at least one farmer was milking a cow was 900 seconds (from 300 to 1200). The longest time no milking was done, between the beginning and the ending of all milking, was 300 seconds (1500 minus 1200).</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:9.0pt;font-family:">Your job is to write a program that will examine a list of beginning and ending times for N (1 &lt;= N &lt;= 5000) farmers milking N cows and compute (in seconds):</span></p><ul type="disc"><li style="mso-margin-top-alt:auto;mso-margin-bottom-alt:auto; text-align:left;mso-pagination:widow-orphan;mso-list:l0 level1 lfo1; tab-stops:list 36.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:">The longest time interval at least one cow was milked.</span></li><li style="mso-margin-top-alt:auto;mso-margin-bottom-alt:auto; text-align:left;mso-pagination:widow-orphan;mso-list:l0 level1 lfo1; tab-stops:list 36.0pt"><span lang="EN-US" style="font-size:9.0pt;font-family:">The longest time interval (after milking starts) during which no cows were being milked.</span></li></ul><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">PROGRAM NAME: milk2</span></b></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">INPUT FORMAT</span></b></p><table border="1" cellpadding="0"><tbody><tr><td style="padding:.75pt .75pt .75pt .75pt"><p align="left" style="text-align:left;mso-pagination:widow-orphan; word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:">Line 1:</span></p></td><td style="padding:.75pt .75pt .75pt .75pt"><p align="left" style="text-align:left;mso-pagination:widow-orphan; word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:">The single integer</span></p></td></tr><tr><td style="padding:.75pt .75pt .75pt .75pt"><p align="left" style="text-align:left;mso-pagination:widow-orphan; word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:">Lines 2..N+1:</span></p></td><td style="padding:.75pt .75pt .75pt .75pt"><p align="left" style="text-align:left;mso-pagination:widow-orphan; word-break:break-all"><span lang="EN-US" style="font-size:9.0pt;font-family:">Two non-negative integers less than 1000000, the starting and ending time in seconds after 0500</span></p></td></tr></tbody></table><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">SAMPLE INPUT (file milk2.in)</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">3</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">300 1000</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">700 1200</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">1500 2100</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">OUTPUT FORMAT</span></b></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:9.0pt;font-family:">A single line with two integers that represent the longest continuous time of milking and the longest idle time.</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3"><b><span lang="EN-US" style="font-size:13.5pt;font-family:">SAMPLE OUTPUT (file milk2.out)</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">900 300</span></p><b><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family: 宋体;mso-font-kerning:0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN; mso-bidi-language:AR-SA">[</span><span style="font-size:12.0pt;font-family: 宋体;mso-bidi-font-family:宋体;mso-font-kerning:0pt;mso-ansi-language:EN-US; mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">难度等级<span lang="EN-US">]</span></span></b><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN; mso-bidi-language:AR-SA">Easy(noip</span><span style="font-size:12.0pt; font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning:0pt;mso-ansi-language: EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">第<span lang="EN-US">2</span>题<span lang="EN-US">)</span></span></div>
</div></body></html> 