<html>
<head>
  <title>USACO 4.2.3 job</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="788"/>
<h1>USACO 4.2.3 job</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>解题报告</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">主要是</span><span style="font-size:12pt"><b>贪心</b></span><span style="font-size:12pt">法</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">:</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">根据</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">Johnson</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">划分，进行分阶段贪心选择。首先</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">:</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">我们易知第一问很容易贪心得到，因为</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">A</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">型机器的工作是无缝的，并且是并行工作，所以对于每个工作，我们都贪心的选择</span> <span style="font-size:12pt"><b>已经工作完毕</b></span><span style="font-size:12pt">的且需要时间最短的机器。这样我们就知道了所有工作的最小完成时间。用</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">jobcost[i]</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">记录完成第</span></font><font color="#010101" face="Arial"><span style="font-size:12pt">i</span></font> <font color="#010101" face="宋体"><span style="font-size:12pt">个工作的时间。</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">jobcost[n]</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">就是第一问的答案。</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">对于第二问，我们开始也像第一问那样处理。这样就能知道忽略</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">A</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">型机器的最短工作时间。而根据</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">johnson</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">划分，</span></font><font color="#010101" face="Arial"><span style="font-size:12pt">A</span></font> <font color="#010101" face="宋体"><span style="font-size:12pt">操作最短的要先完成</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">(</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">第一问已经做了</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">)</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">，这样能保证</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">B</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">操作尽快的开始，减少闲置时间。而</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">B</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">操作耗时长的要先完成。这样，使得最后的闲置时间最短。</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">(</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">假设</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">B</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">操作耗时短的先完成了，那么对于后面的</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">B</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">操作，则要花费多一些的等待时间</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">)</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">。</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">这样最后取得</span></font><font color="#010101" face="Arial"><span style="font-size:12pt">(A</span></font> <font color="#010101" face="宋体"><span style="font-size:12pt">操作最短</span></font><font color="#010101" face="Arial"><span style="font-size:12pt">+B</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">操作最长</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">)</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">的最大值即为所求。</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">强烈赞</span></font><font color="#010101" face="Arial"><span style="font-size:12pt">USACO</span></font> <font color="#010101" face="宋体"><span style="font-size:12pt">的分析。</span></font><img src="USACO 4.2.3 job_files/Image.png" type="image/png" alt="http://img.baidu.com/hi/face/i_f48.gif" border="0" height="25" style="cursor: default;cursor: default;" width="25"/></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>运行情况</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Compiling...<br>
Compile: OK</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Executing...<br>
   Test 1: TEST OK [0.000 secs, 2936 KB]<br>
   Test 2: TEST OK [0.000 secs, 2936 KB]<br>
   Test 3: TEST OK [0.011 secs, 2936 KB]<br>
   Test 4: TEST OK [0.011 secs, 2936 KB]<br>
   Test 5: TEST OK [0.000 secs, 2936 KB]<br>
   Test 6: TEST OK [0.011 secs, 2936 KB]<br>
   Test 7: TEST OK [0.011 secs, 2936 KB]<br>
   Test 8: TEST OK [0.011 secs, 2936 KB]<br>
   Test 9: TEST OK [0.011 secs, 2936 KB]<br>
   Test 10: TEST OK [0.011 secs, 2936 KB]<br>
   Test 11: TEST OK [0.000 secs, 2936 KB]<br>
   Test 12: TEST OK [0.000 secs, 2936 KB]</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">All tests OK.<br></span><span style="font-size:10pt"><b>YOUR PROGRAM ('job') WORKED FIRST TIME!</b></span><span style="font-size:10pt"> That's fantastic<br>
-- and a rare thing. Please accept these special automated<br>
congratulations.</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>程序清单</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#include</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&lt;cstdio&gt;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#include</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&lt;cstring&gt;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#define</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">MAX(a,b) ((a)&gt;(b)?(a):(b))</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#define</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">BIGJ 1005</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#define</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">BIGM 35</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">const</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">short</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">A=0,B=1;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">long</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">jobcost[2][BIGJ],Mac[2][BIGM],use[BIGM],ma,mb,n,outp=-1;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">void</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">cost(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">short</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">M,</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">short</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">num){</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">    memset(use,0,</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">sizeof</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(use));</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=1;i&lt;=n;i++){</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">long</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">MINcost=999999,pos=-1;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">       </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">j=1;j&lt;=num;j++)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">           </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(use[j]+Mac[M][j]&lt;MINcost){</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                MINcost=use[j]+Mac[M][j];</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                pos=j;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">            }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">        use[pos]+=Mac[M][pos];</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">        jobcost[M][i]=use[pos];</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">    }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">main()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">    freopen(</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;job.in&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;r&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,stdin);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">    freopen(</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;job.out&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;w&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,stdout);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">    scanf(</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;%ld%ld%ld&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,&amp;n,&amp;ma,&amp;mb);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=1;i&lt;=ma;i++) scanf(</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;%ld&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,&amp;Mac[A][i]);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=1;i&lt;=mb;i++) scanf(</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;%ld&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,&amp;Mac[B][i]);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">    cost(A,ma);cost(B,mb);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">    printf(</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;%ld &quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,jobcost[A][n]);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=1;i&lt;=n;i++) outp=MAX(outp,jobcost[A][i]+jobcost[B][n-i+1]);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">    printf(</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;%ld\n&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,outp);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">return</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">0;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>注意事项</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">根据定义</span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">jobcost</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">里面的序列已经有序。</span></font></div><div align="justify"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>难易等级</b></span></font><font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt"><b> Middle(IOI</b></span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt"><b>早期</b></span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt"><b>)</b></span></font></div></div>
</div></body></html> 