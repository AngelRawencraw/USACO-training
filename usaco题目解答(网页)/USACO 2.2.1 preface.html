<html>
<head>
  <title>USACO 2.2.1 preface</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="484"/>
<h1>USACO 2.2.1 preface</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>解题报告</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">这道题目如果使用普通的枚举</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">就依次判断清楚各个数位就行</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">而且规律是</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">原本的低位数字不变</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">如</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">:VII</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">永远是</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">VII.</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">我的方法是筛法枚举</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">不使用真正的字母只计数</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">速度并不慢</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">首先隔离出各数位</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,(</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">要整位的筛选</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">如</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">950,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">不能仅仅筛出</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">5,9</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">而是</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">50,900).</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">然后从大到小依次筛选判断</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">这样可以避免错误</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">,</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">并能恰好填充完毕所有数字</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">.</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">遇到</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">4,9</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">这样的数字单独判断</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">.(</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">这个算是朴素吧</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">.)</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>运行情况</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Compiling...<br>
Compile: OK</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Executing...<br>
   Test 1: TEST OK [0.000 secs, 2928 KB]<br>
   Test 2: TEST OK [0.000 secs, 2928 KB]<br>
   Test 3: TEST OK [0.011 secs, 2928 KB]<br>
   Test 4: TEST OK [0.000 secs, 2928 KB]<br>
   Test 5: TEST OK [0.011 secs, 2928 KB]<br>
   Test 6: TEST OK [0.011 secs, 2928 KB]<br>
   Test 7: TEST OK [0.000 secs, 2928 KB]<br>
   Test 8: TEST OK [0.000 secs, 2928 KB]</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">All tests OK.<br>
Your program ('preface') produced all correct answers! This is your<br>
submission #2 for this problem. </span><span style="font-size:10pt"><b>Congratulations!</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>程序清单</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#include</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&lt;fstream&gt;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">using</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">namespace</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">std;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">ofstream fout (</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;preface.out&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,ios::out);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">ifstream fin (</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;preface.in&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,ios::in);</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">struct</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">num</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">tot,realt;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}lm[8];</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">n,m,k,temp,fx[5]={0,10,100,1000,10000};</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">char</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">cnum[8]={</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">' '</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'I'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'V'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'X'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'L'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'C'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'D'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'M'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">};</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">main()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                fin&gt;&gt;n;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                lm[1].realt=1;lm[2].realt=5;lm[3].realt=10;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                lm[4].realt=50;lm[5].realt=100;lm[6].realt=500;lm[7].realt=1000;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//init</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=n;i&gt;=1;i--)</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//main</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">m,tm2=i,js=0;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">while</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(tm2!=0)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                js++;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                m=tm2%fx[js];</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//筛选数位</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                tm2-=m;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//隔离</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">j=7;j&gt;=1;j--)</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//从大到小筛选</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(m!=0)</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//until m=0</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(lm[j].realt&lt;=m)</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//正常的联合数字</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(m-lm[j].realt&gt;=0) k=1;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(m-lm[j].realt*2&gt;=0) k=2;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(m-lm[j].realt*3&gt;=0) k=3;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                m-=lm[j].realt*k;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//筛去</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                lm[j].tot+=k;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//累计个数</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">else</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(j&gt;1)</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//类似4或9这样的数字.</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                { temp=0;</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//分为2种情况</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">((j%2==0)&amp;&amp;(lm[j].realt-lm[j-1].realt==m)) temp=1;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">((j%2!=0)&amp;&amp;(lm[j].realt-lm[j-2].realt==m)) temp=2;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(temp!=0)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                                                                m=0;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//筛去</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                                                                lm[j].tot++;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//累计</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                                                                lm[j-temp].tot++;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//累计</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">else</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">break</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=1;i&lt;=7;i++)</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//output</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(lm[i].tot!=0)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                fout&lt;&lt;cnum[i]&lt;&lt;</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">' '</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">&lt;&lt;lm[i].tot&lt;&lt;endl;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">return</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">0;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>注意事项</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">无</span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">(</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">可以参考</span></font> <font color="#010101" face="Arial" size="2"><span style="font-size:10pt">nocow</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">上使用数学分析的方法</span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">,</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">程序很短</span></font> <font color="#010101" face="Arial" size="2"><span style="font-size:10pt">)</span></font></div><div align="justify"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>难易等级</b></span></font><font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt"><b> Easy (noip the 2nd)</b></span></font></div></div>
</div></body></html> 