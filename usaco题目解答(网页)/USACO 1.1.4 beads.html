<html>
<head>
  <title>USACO 1.1.4 beads</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="328"/>
<h1>USACO 1.1.4 beads</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><p align="left" style="text-align:left;mso-line-height-alt:12.7pt; mso-pagination:widow-orphan"><b><span lang="EN-US" style="font-size:13.5pt; mso-bidi-font-size:11.0pt;font-family:">[Broken Necklace</span></b><span style="font-size: 13.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">破碎的项链</span><span lang="EN-US" style="font-size:13.5pt;font-family:">]</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:2"><b><span lang="EN-US" style="font-size:18.0pt;font-family:">[</span></b><b><span style="font-size:18.0pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">描述</span></b><b><span lang="EN-US" style="font-size:18.0pt;font-family:">]</span></b></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">你有一条由</span><span lang="EN-US" style="font-size:8.5pt;font-family:">N</span><span style="font-size:8.5pt;font-family:宋体; mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">个红色的，白色的，或蓝色的珠子组成的项链</span><span lang="EN-US" style="font-size:8.5pt;font-family:">(3&lt;=N&lt;=350)</span><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">，珠子是随意安排的。</span> <span style="font-size:8.5pt;font-family:宋体; mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">这里是</span> <span lang="EN-US" style="font-size:8.5pt; font-family:">n=29</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">的二个例子</span><span lang="EN-US" style="font-size:8.5pt;font-family:">:</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; color:#CCFFFF;mso-font-kerning:0pt">             </span> <span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt">1 2                               1 2</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">            r b b r                           b r r b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">          r         b                       b         b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">         r           r                     b           r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">        r             r                   w             r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">       b               r                 w               w</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">      b                 b               r                 r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">      b                 b               b                 b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">      b                 b               r                 b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">       r               r                 b               r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">        b             r                   r             r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">         b           r                     r           r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">           r       r                         r       b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">             r b r                             r r w</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">            </span> <span style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt">图片 <span lang="EN-US">A           </span> 图片<span lang="EN-US">  B</span></span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">     r</span> <span style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt">代表 红色的珠子<span lang="EN-US">     </span></span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">     b</span> <span style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt">代表 蓝色的珠子<span lang="EN-US">  </span></span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">     w</span> <span style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt">代表 白色的珠子</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">第一和第二个珠子在图片中已经被作记号。</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">图片</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">A</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">中的项链可以用下面的字符串表示：</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:8.5pt;font-family:">brbrrrbbbrrrrrbrrbbrbbbbrrrrb .</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">假如你要在某点打破项链</span><span lang="EN-US" style="font-size:8.5pt;font-family:">,</span><span style="font-size:8.5pt;font-family:宋体; mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">展开成一条直线，然后从一端开始收集同颜色的珠子直到你遇到一个不同的颜色珠子，在另一端做同样的事。</span><span lang="EN-US" style="font-size:8.5pt;font-family:">(</span><span style="font-size:8.5pt;font-family:宋体; mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">颜色可能与在这之前收集的不同</span><span lang="EN-US" style="font-size:8.5pt;font-family:">)</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">确定应该在哪里打破项链来收集到最大数目的子。</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><b><span lang="EN-US" style="font-size:8.5pt;mso-bidi-font-size:11.0pt;font-family:">Example</span></b><span lang="EN-US" style="font-size:8.5pt;mso-bidi-font-size:11.0pt;font-family:"> </span><span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">举例来说，在图片</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">A</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">中的项链，可以收集到</span><span lang="EN-US" style="font-size: 8.5pt;font-family:">8</span><span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">个珠子</span><span lang="EN-US" style="font-size:8.5pt;font-family:">,</span><span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">在珠子</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">9</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">和珠子</span> <span lang="EN-US" style="font-size:8.5pt; font-family:">10</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">或珠子</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">24</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">和珠子</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">25</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">之间打断项链。</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">在一些项链中，包括白色的珠子如图片</span> <span lang="EN-US" style="font-size:8.5pt; font-family:">B</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">所示。</span><span lang="EN-US" style="font-size:8.5pt;mso-bidi-font-size:11.0pt; font-family:"> </span><b><span style="font-size:8.5pt;mso-bidi-font-size:11.0pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">当收集珠子的时候，一个被遇到的白色珠子可以被当做红色也可以被当做蓝色。</span></b><span lang="EN-US" style="font-size:8.5pt;mso-bidi-font-size:11.0pt;font-family:"> </span><span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">表现项链的字符串将会包括三符号</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">r</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">，</span> <span lang="EN-US" style="font-size:8.5pt; font-family:">b</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">和</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">w</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">。</span> <span style="font-size:8.5pt;font-family:宋体; mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">写一个程序来确定从一条被供应的项链最大可以被收集珠子数目。</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:2"><b><span lang="EN-US" style="font-size:18.0pt;font-family:">[</span></b><b><span style="font-size:18.0pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">格式</span></b><b><span lang="EN-US" style="font-size:18.0pt;font-family:">]</span></b></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><b><span lang="EN-US" style="font-size:8.5pt;mso-bidi-font-size:11.0pt;font-family:">PROGRAM NAME</span></b><span lang="EN-US" style="font-size:8.5pt;font-family:">: beads</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><b><span lang="EN-US" style="font-size:8.5pt;mso-bidi-font-size:11.0pt;font-family:">INPUT FORMAT</span></b><span lang="EN-US" style="font-size:8.5pt;font-family:">:</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:8.5pt;font-family:">(file beads.in)</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">第</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">1</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">行</span><span lang="EN-US" style="font-size:8.5pt; font-family:">: N,</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">珠子的数目</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">第</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">2</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">行</span><span lang="EN-US" style="font-size:8.5pt; font-family:">:</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">一串度为</span><span lang="EN-US" style="font-size:8.5pt;font-family:">N</span><span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">的字符串</span><span lang="EN-US" style="font-size:8.5pt;font-family:">,</span> <span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">每个字符是</span> <span lang="EN-US" style="font-size:8.5pt; font-family:">r</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family: Arial;mso-hansi-font-family:Arial;mso-bidi-font-family:Arial;mso-font-kerning: 0pt">，</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">b</span> <span style="font-size:8.5pt;font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family: Arial;mso-bidi-font-family:Arial;mso-font-kerning:0pt">或</span> <span lang="EN-US" style="font-size:8.5pt;font-family:">w</span><span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">。</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><b><span lang="EN-US" style="font-size:8.5pt;mso-bidi-font-size:11.0pt;font-family:">OUTPUT FORMAT</span></b><span lang="EN-US" style="font-size:8.5pt;font-family:">:</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span lang="EN-US" style="font-size:8.5pt;font-family:">(file beads.out)</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">单独的一行包含从被供应的项链可以被收集的珠子数目的最大值。</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:2"><b><span lang="EN-US" style="font-size:18.0pt;font-family:">SAMPLE INPUT</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">29</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">wwwbbrwrbrbrrbrbrwrwwrbwrwrrb</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:2"><b><span lang="EN-US" style="font-size:18.0pt;font-family:">SAMPLE OUTPUT</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">11</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:2"><b><span lang="EN-US" style="font-size:18.0pt;font-family:">[</span></b><b><span style="font-size:18.0pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">输出解释</span></b><b><span lang="EN-US" style="font-size:18.0pt;font-family:">]</span></b></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan"><span style="font-size:8.5pt; font-family:宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial; mso-bidi-font-family:Arial;mso-font-kerning:0pt">考虑两段项链（能组成一圈的）。</span><span lang="EN-US" style="font-size:8.5pt;font-family:">11</span><span style="font-size:8.5pt;font-family: 宋体;mso-ascii-font-family:Arial;mso-hansi-font-family:Arial;mso-bidi-font-family: Arial;mso-font-kerning:0pt">个珠子已经标注了。</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">wwwbbrwrbrbrrbrbrwrwwrbwrwrrb wwwbbrwrbrbrrbrbrwrwwrbwrwrrb</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">                       ****** *****</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;mso-bidi-font-size:11.0pt;font-family:宋体; mso-bidi-font-family:宋体;mso-font-kerning:0pt">[</span></b><b><span style="font-size:13.5pt;mso-bidi-font-size:11.0pt;font-family:宋体;mso-bidi-font-family: 宋体;mso-font-kerning:0pt">解题报告<span lang="EN-US">]</span></span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt">输出解释给出了基本的思想<span lang="EN-US">:</span>把字符串复制一遍<span lang="EN-US">,</span>可以变成一个环<span lang="EN-US">:</span>基本思想是<span lang="EN-US">:</span>首先主指针从头到尾搜索<span lang="EN-US">(0~2*num-1)</span>每搜索一个位置便拓展状态<span lang="EN-US">,</span>向左右两边延伸<span lang="EN-US">.</span>方法简单<span lang="EN-US">,</span>不过需要注意两个细节<span lang="EN-US">:</span></span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt">第一个<span lang="EN-US">:</span>不要无限循环<span lang="EN-US">,</span>也就是不要越界<span lang="EN-US">,</span>本来长度为<span lang="EN-US">3</span>的项链<span lang="EN-US">(</span>如<span lang="EN-US">:rrr),</span>输出结果为<span lang="EN-US">6</span>显然不对了<span lang="EN-US">.</span>解决方案是加一个计数器<span lang="EN-US">,</span>因为最大值永远不会超过<span lang="EN-US">num(</span>即链长<span lang="EN-US">),</span>所以超过就退出<span lang="EN-US">,</span>而且<span lang="EN-US">,</span>只有左右两边均搜索完毕时才能清零<span lang="EN-US">;</span></span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt">第二个<span lang="EN-US">:</span>如果指针指到<span lang="EN-US">'w',</span>则拓展时一定会遇到找不到的问题<span lang="EN-US">(</span>请想一下为什么<span lang="EN-US">),</span>解决办法很简单<span lang="EN-US">,</span>就是就近原则<span lang="EN-US">:</span>找到最近的不是<span lang="EN-US">'w'</span>的字符<span lang="EN-US">,</span>以它为搜索目标搜索即可<span lang="EN-US">.</span></span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;mso-bidi-font-size:11.0pt;font-family:宋体; mso-bidi-font-family:宋体;mso-font-kerning:0pt">[</span></b><b><span style="font-size:13.5pt;mso-bidi-font-size:11.0pt;font-family:宋体;mso-bidi-font-family: 宋体;mso-font-kerning:0pt">运行情况<span lang="EN-US">]</span></span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">Compiling...</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">Compile: OK</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">Executing...</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 1: TEST OK [0.000 secs, 2840 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 2: TEST OK [0.000 secs, 2844 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 3: TEST OK [0.011 secs, 2840 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 4: TEST OK [0.000 secs, 2844 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 5: TEST OK [0.011 secs, 2840 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 6: TEST OK [0.000 secs, 2844 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 7: TEST OK [0.000 secs, 2844 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 8: TEST OK [0.000 secs, 2840 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">   Test 9: TEST OK [0.011 secs, 2844 KB]</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">All tests OK.</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">YOUR PROGRAM ('beads') WORKED FIRST TIME!</span></b><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">  That's fantastic</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">-- and a rare thing.  Please accept these special automated</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">congratulations.</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size: 13.5pt; font-family: 宋体;">[</span><span style="font-size: 13.5pt; font-family: 宋体;">程序清单<span lang="EN-US">]</span></span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"></p><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#include</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&lt;fstream&gt;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#include</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&lt;cstring&gt;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">using</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">namespace</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">std;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">ofstream fout (</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;beads.out&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,ios::out);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">ifstream fin (</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;beads.in&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,ios::in);</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">num,maxn=-1;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">char</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">beads[1000];</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">void</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">work()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=0;i&lt;num*2;i++)</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//下标从0开始</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">char</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">l=beads[i],r=beads[i+1];</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//枚举两个扩展端点,一个向左,一个向右</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">nl=0,nr=0,lj=0;</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//当前扩展长度,lj防止扩展超界</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">j=i;j&gt;=0;j--)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">((beads[j]==l||beads[j]==</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'w'</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">)&amp;&amp;lj&lt;num)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(j-1&gt;=0)</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(l==</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'w'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">) l=beads[j-1];</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//important,就近扫描法则(独创),先遇到谁,接着就查找谁.</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                ++nl;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                ++lj;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//计数</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">else</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">break</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">j=i+1;j&lt;num*2;j++)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">((beads[j]==r||beads[j]==</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'w'</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">)&amp;&amp;lj&lt;num)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(j+1&lt;num*2)</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(r==</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">'w'</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">) r=beads[j+1];</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//important</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                ++nr;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                ++lj;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">else</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">break</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">(nr+nl&gt;maxn) maxn=nl+nr;</span></font><font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//更新</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                fout&lt;&lt;maxn&lt;&lt;endl;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">void</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">init()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                fin&gt;&gt;num;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">char</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">beads2[1000];</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                fin&gt;&gt;beads2;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                strcpy(beads,beads2);</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//把bead2赋值到bead.            </span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                strcat(beads,beads2);</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//使链变成环状</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">main()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                init();</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                work();</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">return</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">0;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;mso-bidi-font-size:11.0pt;font-family:宋体; mso-bidi-font-family:宋体;mso-font-kerning:0pt">[</span></b><b><span style="font-size:13.5pt;mso-bidi-font-size:11.0pt;font-family:宋体;mso-bidi-font-family: 宋体;mso-font-kerning:0pt">原题<span lang="EN-US">]</span></span></b></p><p align="center" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:center;mso-pagination:widow-orphan;mso-outline-level:1; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:24.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:18.0pt">Broken Necklace</span></b></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">You have a necklace of N red, white, or blue beads (3&lt;=N&lt;=350) some of which are red, others blue, and others white, arranged at random. Here are two examples for n=29:</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">1 2                               1 2</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">            r b b r                           b r r b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">          r         b                       b         b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">         r           r                     b           r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">        r             r                   w             r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">       b               r                 w               w</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">      b                 b               r                 r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">      b                 b               b                 b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">      b                 b               r                 b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">       r               r                 b               r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">        b             r                   r             r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">         b           r                     r           r</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">           r       r                         r       b</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">             r b r                             r r w</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">            Figure A                         Figure B</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">                        r red bead</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">                        b blue bead</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">                        w white bead</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">The beads considered first and second in the text that follows have been marked in the picture.</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">The configuration in Figure A may be represented as a string of b's and r's, where b represents a blue bead and r represents a red one, as follows: brbrrrbbbrrrrrbrrbbrbbbbrrrrb .</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">Suppose you are to break the necklace at some point, lay it out straight, and then collect beads of the same color from one end until you reach a bead of a different color, and do the same for the other end (which might not be of the same color as the beads collected before this).</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">Determine the point where the necklace should be broken so that the most number of beads can be collected.</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">Example</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">For example, for the necklace in Figure A, 8 beads can be collected, with the breaking point either between bead 9 and bead 10 or else between bead 24 and bead 25.</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">In some necklaces, white beads had been included as shown in Figure B above. When collecting beads, <b>a white bead that is encountered may be treated as either red or blue and then painted with the desired color</b>. The string that represents this configuration will include the three symbols r, b and w.</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">Write a program to determine the largest number of beads that can be collected from a supplied necklace.</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">PROGRAM NAME: beads</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">INPUT FORMAT</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><table border="0" cellpadding="0"><tbody><tr><td style="padding:.75pt .75pt .75pt .75pt"><p align="left" style="text-align:left;mso-pagination:widow-orphan; word-break:break-all"><span lang="EN-US" style="font-size:8.5pt;font-family:">Line 1:</span></p></td><td style="padding:.75pt .75pt .75pt .75pt"><p align="left" style="text-align:left;mso-pagination:widow-orphan; word-break:break-all"><span lang="EN-US" style="font-size:8.5pt;font-family:">N, the number of beads</span></p></td></tr><tr><td style="padding:.75pt .75pt .75pt .75pt"><p align="left" style="text-align:left;mso-pagination:widow-orphan; word-break:break-all"><span lang="EN-US" style="font-size:8.5pt;font-family:">Line 2:</span></p></td><td style="padding:.75pt .75pt .75pt .75pt"><p align="left" style="text-align:left;mso-pagination:widow-orphan; word-break:break-all"><span lang="EN-US" style="font-size:8.5pt;font-family:">a string of N characters, each of which is r, b, or w</span></p></td></tr></tbody></table><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">SAMPLE INPUT (file beads.in)</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">29</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">wwwbbrwrbrbrrbrbrwrwwrbwrwrrb</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">OUTPUT FORMAT</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">A single line containing the maximum of number of beads that can be collected from the supplied necklace.</span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">SAMPLE OUTPUT (file beads.out)</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">11</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="mso-margin-top-alt:auto;mso-margin-bottom-alt: auto;text-align:left;mso-pagination:widow-orphan;mso-outline-level:3; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><b><span lang="EN-US" style="font-size:13.5pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">OUTPUT EXPLANATION</span></b></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">Consider two copies of the beads (kind of like being able to runaround the ends). The string of 11 is marked.</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">wwwbbrwrbrbrrbrbrwrwwrbwrwrrb wwwbbrwrbrbrrbrbrwrwwrbwrwrrb</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt">                       ****** *****</span></p><p align="left" style="text-align:left;mso-pagination:widow-orphan; tab-stops:45.8pt 91.6pt 137.4pt 183.2pt 229.0pt 274.8pt 320.6pt 366.4pt 412.2pt 458.0pt 503.8pt 549.6pt 595.4pt 641.2pt 687.0pt 732.8pt"><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt"> </span></p><b><span lang="EN-US" style="font-size:13.5pt;mso-bidi-font-size:11.0pt; font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning:0pt;mso-ansi-language: EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">[</span><span style="font-size:13.5pt;mso-bidi-font-size:11.0pt;font-family:宋体;mso-bidi-font-family: 宋体;mso-font-kerning:0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN; mso-bidi-language:AR-SA">难度等级<span lang="EN-US">]</span></span></b><span lang="EN-US" style="font-size:12.0pt;font-family:宋体;mso-bidi-font-family:宋体; mso-font-kerning:0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN; mso-bidi-language:AR-SA">Easy(noip2</span><span style="font-size:12.0pt; font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning:0pt;mso-ansi-language: EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">水准<span lang="EN-US">)</span></span><span style="font-size:10.0pt;font-family:宋体;mso-bidi-font-family:宋体;mso-font-kerning: 0pt;mso-ansi-language:EN-US;mso-fareast-language:ZH-CN;mso-bidi-language:AR-SA">据说是<span lang="EN-US">IOI93</span>第一题</span></div>
</div></body></html> 