<html>
<head>
  <title>USACO 2.2.2 subset</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="486"/>
<h1>USACO 2.2.2 subset</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>解题报告</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">基本的</span></font><font color="#010101" face="Arial"><span style="font-size:12pt">DP,</span></font> <font color="#010101" face="宋体"><span style="font-size:12pt">有点类似背包，但方程又像组合公式。</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt"><b>F[i][j]=((j-i&gt;=0)?F[i-1][j]+F[i-1][j-i]):F[i-1][j]).</b></span></font> <font color="#010101" face="宋体"><span style="font-size:12pt">首先对于满足条件的每个数字有选与不选两种选择，搜索的话，理想状态最大有超过</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">19!</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">种状态，也就是</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">121P</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">左右，分析一下，我们可以算出在容量（最大边界）</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt"><b>j</b></span></font><font color="#010101" face="宋体"><span style="font-size:12pt">内，使用前</span></font><font color="#010101" face="Arial"><span style="font-size:12pt"><b>i</b></span></font><font color="#010101" face="宋体"><span style="font-size:12pt">个数字可以有多少种组合方案，这样当前状态等于上一个状态没有这个数字</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">+</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">含有这个数字的总合。边界是对于所有</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt"><b>F[i,0]=1;</b></span></font><font color="#010101" face="宋体"><span style="font-size:12pt">因为分析可得组合为</span></font><font color="#010101" face="Arial"><span style="font-size:12pt">0</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">，就是什么数字也不用，什么也不用就是</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">0</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">个数字，算做一种状态</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">.</span></font><img src="USACO 2.2.2 subset_files/Image.png" type="image/png" alt="http://img.baidu.com/hi/face/i_f50.gif" border="0" height="25" style="cursor: default;" width="25"/> <font color="#010101" face="宋体"><span style="font-size:12pt">输出时要整除</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">2</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">。</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>运行情况</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Compiling...<br>
Compile: OK</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Executing...<br>
   Test 1: TEST OK [0.011 secs, 3176 KB]<br>
   Test 2: TEST OK [0.022 secs, 3176 KB]<br>
   Test 3: TEST OK [0.000 secs, 3176 KB]<br>
   Test 4: TEST OK [0.011 secs, 3176 KB]<br>
   Test 5: TEST OK [0.011 secs, 3176 KB]<br>
   Test 6: TEST OK [0.011 secs, 3176 KB]<br>
   Test 7: TEST OK [0.011 secs, 3176 KB]</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">All tests OK.<br>
Your program ('subset') produced all correct answers! This is your<br>
submission #2 for this problem. </span><span style="font-size:10pt"><b>Congratulations!</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>程序清单</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">#include</span></font> <font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&lt;fstream&gt;</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">using</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">namespace</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">std;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">ofstream fout (</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;subset.out&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,ios::out);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">ifstream fin (</span></font><font color="#A31515" face="Times New Roman" size="1"><span style="font-size:9pt">&quot;subset.in&quot;</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">,ios::in);</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">long</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">long</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">n,f[40][800];</span></font></div><div align="left"><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">main()</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">{</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                fin&gt;&gt;n;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">if</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(((1+n)*n/2)%2!=0) fout&lt;&lt;0&lt;&lt;endl;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">else</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                {</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                f[0][0]=1;</span></font> <font color="#008000" face="Times New Roman" size="1"><span style="font-size:9pt">//边界条件</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">int</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">i=1;i&lt;=n;i++)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">for</span></font><font face="Times New Roman" size="1"><span style="font-size:9pt">(</span></font><font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">long</span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">long</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">j=0;j&lt;=(1+i)*i/2;j++)</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                                f[i][j]=((j-i&gt;=0)?(f[i-1][j]+f[i-1][j-i]):f[i-1][j]);</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                                fout&lt;&lt;f[n][(1+n)*n/4]/2&lt;&lt;endl;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">                }</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">   </span></font> <font color="#0000FF" face="Times New Roman" size="1"><span style="font-size:9pt">return</span></font> <font face="Times New Roman" size="1"><span style="font-size:9pt">0;</span></font></div><div align="left"><font face="Times New Roman" size="1"><span style="font-size:9pt">}</span></font></div></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>注意事项</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">无</span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">.</span></font> <font color="#010101" face="宋体" size="2"><span style="font-size:10pt">仔细一点就能一次</span></font> <font color="#010101" face="Arial" size="2"><span style="font-size:10pt">AC</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">了，数据类型用的小了。</span></font> <font color="#010101" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">其实真的很像组合公式</span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">)</span></font></div><div align="justify"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>难易等级</b></span></font><font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt"><b> Easy (noip the 2nd)</b></span></font></div></div>
</div></body></html> 