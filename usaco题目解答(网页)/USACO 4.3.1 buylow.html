<html>
<head>
  <title>USACO 4.3.1 buylow</title>
  <basefont face="Tahoma" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="Evernote Windows/268868 (zh-CN); Windows/6.1.7601 Service Pack 1;"/>
  <style>
    body, td {
      font-family: Tahoma;
      font-size: 10pt;
    }
  </style>
</head>
<body>
<a name="796"/>
<h1>USACO 4.3.1 buylow</h1>

<div>
<div style="word-wrap: break-word; -webkit-nbsp-mode: space; -webkit-line-break: after-white-space;"><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>解题报告</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">很明显的最长递降子序列，方程不说了。</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">USACO</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">早在</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">2.2</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">就说到了（如果我没记错）。为了更快，我采用二分优化。找到最长的子序列只是第一步，我个人认为这道题目真正的考点是第二步：统计总的出现次数。</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">可以用递推的思想倒序统计：我们每次维护一个当前的值，使得他是最靠左的一个，也就是面对相同的值，我们仅仅保留最靠左的（因为是倒序）。这样他就仅被统计一次。统计时还要满足序列连续。从大到小统计，注意初始化，最小的值的序列个数要置为</span></font> <font color="#010101" face="Arial"><span style="font-size:12pt">1</span></font><font color="#010101" face="宋体"><span style="font-size:12pt">。这样之所以正确是因为序列的单调性。</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="宋体"><span style="font-size:12pt">总的时间复杂度</span></font><font color="#010101" face="Arial"><span style="font-size:12pt">E(NlogN+N^2)=O(N^2).</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>运行情况</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Compiling...<br>
Compile: OK</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Executing...<br>
   Test 1: TEST OK [0.000 secs, 4576 KB]<br>
   Test 2: TEST OK [0.011 secs, 4576 KB]<br>
   Test 3: TEST OK [0.011 secs, 4576 KB]<br>
   Test 4: TEST OK [0.011 secs, 4576 KB]<br>
   Test 5: TEST OK [0.000 secs, 4576 KB]<br>
   Test 6: TEST OK [0.043 secs, 4576 KB]<br>
   Test 7: TEST OK [0.011 secs, 4576 KB]<br>
   Test 8: TEST OK [0.022 secs, 4576 KB]<br>
   Test 9: TEST OK [0.054 secs, 4576 KB]<br>
   Test 10: TEST OK [0.281 secs, 4576 KB]</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">All tests OK.<br></span><span style="font-size:10pt"><b>YOUR PROGRAM ('buylow') WORKED FIRST TIME!</b></span><span style="font-size:10pt"> That's fantastic<br>
-- and a rare thing. Please accept these special automated<br>
congratulations.</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">//</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">另一种实现，在大数据上有好的表现：</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">Executing...<br>
   Test 1: TEST OK [0.011 secs, 4488 KB]<br>
   Test 2: TEST OK [0.011 secs, 4488 KB]<br>
   Test 3: TEST OK [0.032 secs, 4488 KB]<br>
   Test 4: TEST OK [0.011 secs, 4488 KB]<br>
   Test 5: TEST OK [0.011 secs, 4488 KB]<br>
   Test 6: TEST OK [0.032 secs, 4488 KB]<br>
   Test 7: TEST OK [0.022 secs, 4488 KB]<br>
   Test 8: TEST OK [0.032 secs, 4488 KB]<br>
   Test 9: TEST OK [0.065 secs, 4488 KB]<br>
   Test 10: TEST OK [0.248 secs, 4488 KB]</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">All tests OK.</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>程序清单</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#339933" face="Arial" size="2"><span style="font-size:10pt">#include&lt;fstream&gt;//nocow</span></font><font color="#339933" face="宋体" size="2"><span style="font-size:10pt">的语法高亮不错！</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br>
#include&lt;cstring&gt;<br>
#define cprint fout<br>
#define BIG 5005<br>
#define MAX(a,b) ((a)&gt;(b)?(a):(b))<br></span></font><font face="Arial" size="2"><span style="font-size:10pt">using namespace std;<br>
ofstream fout </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#FF0000" face="Arial" size="2"><span style="font-size:10pt">&quot;buylow.out&quot;</span></font> <font face="Arial" size="2"><span style="font-size:10pt">,ios::</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">out</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
ifstream fin </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#FF0000" face="Arial" size="2"><span style="font-size:10pt">&quot;buylow.in&quot;</span></font><font face="Arial" size="2"><span style="font-size:10pt">,ios::</span></font> <font color="#202020" face="Arial" size="2"><span style="font-size:10pt">in</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br></span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">struct</span></font><font face="Arial" size="2"><span style="font-size:10pt"> elect</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">{</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">long</span></font><font face="Arial" size="2"><span style="font-size:10pt"> ele</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">BIG</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">,len;<br>
    </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">long</span></font><font face="Arial" size="2"><span style="font-size:10pt"> MAXN</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(){</span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">return</span></font><font face="Arial" size="2"><span style="font-size:10pt"> ele</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">len</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">;</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">long</span></font><font face="Arial" size="2"><span style="font-size:10pt"> refresh</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">long</span></font><font face="Arial" size="2"><span style="font-size:10pt"> VAL</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">){</span></font><font face="Arial" size="2"><span style="font-size:10pt">ele</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">++len</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">=VAL;return len;</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">long</span></font><font face="Arial" size="2"><span style="font-size:10pt"> change</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">long</span></font><font face="Arial" size="2"><span style="font-size:10pt"> VAL</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">){</span></font><font face="Arial" size="2"><span style="font-size:10pt"> </span></font><font color="#808080" face="Arial" size="2"><span style="font-size:10pt"><i>//</i></span></font><font color="#808080" face="宋体" size="2"><span style="font-size:10pt"><i>二分查找</i></span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        </span></font> <font color="#993333" face="Arial" size="2"><span style="font-size:10pt">long</span></font><font face="Arial" size="2"><span style="font-size:10pt"> left=</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">,right=len,mid=</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">left+right</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt">&gt;&gt;</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
        </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">while</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">left&lt;right</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">            </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">if</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">VAL&gt;ele</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">mid</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]){</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">                left=mid</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">+1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
                mid=</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">left+right</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt">&gt;&gt;</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
            </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">            </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">else</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">{</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">                right=mid;<br>
                mid=</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">left+right</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt">&gt;&gt;</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
            </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        ele</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">left</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">=VAL;<br>
        </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">return</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> left;<br>
    </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font face="Arial" size="2"><span style="font-size:10pt">num;<br>
class Plus</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">{</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font><font face="Arial" size="2"><span style="font-size:10pt"> num</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">80</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">,len;<br>
    public:<br>
    </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">void</span></font><font face="Arial" size="2"><span style="font-size:10pt"> refresh</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(){</span></font> <font face="Arial" size="2"><span style="font-size:10pt">num</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">++len</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font> <font face="Arial" size="2"><span style="font-size:10pt">=</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    friend Plus operator + </span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">const</span></font><font face="Arial" size="2"><span style="font-size:10pt"> Plus &amp;A,</span></font> <font color="#993333" face="Arial" size="2"><span style="font-size:10pt">const</span></font><font face="Arial" size="2"><span style="font-size:10pt"> Plus &amp;B</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">){</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        Plus C;<br>
        </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> LEN=MAX</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font> <font face="Arial" size="2"><span style="font-size:10pt">A.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font> <font face="Arial" size="2"><span style="font-size:10pt">,B.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
        </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">for</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font><font face="Arial" size="2"><span style="font-size:10pt"> i=</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;i&lt;=LEN;i++</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">){</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">            C.</span></font> <font color="#202020" face="Arial" size="2"><span style="font-size:10pt">num</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">+=A.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">num</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font> <font face="Arial" size="2"><span style="font-size:10pt">+B.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">num</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
            C.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">num</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">+1</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">+=</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">C.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">num</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">])</span></font> <font face="Arial" size="2"><span style="font-size:10pt">/</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">10</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;<br>
            C.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">num</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">%=</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">10</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
        </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">if</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">C.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">num</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">LEN</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">+1</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">!=</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt"> C.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font><font face="Arial" size="2"><span style="font-size:10pt">=++LEN;<br>
            </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">else</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> C.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font> <font face="Arial" size="2"><span style="font-size:10pt">=LEN;<br>
        </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">return</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> C;<br>
    </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">void</span></font><font face="Arial" size="2"><span style="font-size:10pt"> operator = </span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">const</span></font><font face="Arial" size="2"><span style="font-size:10pt"> Plus &amp;A</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">){</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">for</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> i=</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;i&lt;=A.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;i++</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> num</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font> <font face="Arial" size="2"><span style="font-size:10pt">=A.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">num</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
        len=A.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;<br>
    </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">void</span></font><font face="Arial" size="2"><span style="font-size:10pt"> print</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(){</span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">for</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font> <font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font><font face="Arial" size="2"><span style="font-size:10pt"> i=len;i&gt;=</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;i--</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt"> cprint&lt;&lt;num</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">;cprint&lt;&lt;endl;</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    Plus</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(){</span></font><font face="Arial" size="2"><span style="font-size:10pt">memset</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">num,</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font><font face="Arial" size="2"><span style="font-size:10pt">,</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">sizeof</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font> <font face="Arial" size="2"><span style="font-size:10pt">num</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">))</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;len=</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font face="Arial" size="2"><span style="font-size:10pt">sum</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">BIG</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;<br></span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">long</span></font><font face="Arial" size="2"><span style="font-size:10pt"> val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">BIG</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">2</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">,n;<br>
bool Find</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">BIG</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font> <font face="Arial" size="2"><span style="font-size:10pt">,flag;</span></font><font color="#808080" face="Arial" size="2"><span style="font-size:10pt"><i>//Find</i></span></font><font color="#808080" face="宋体" size="2"><span style="font-size:10pt"><i>保证不重复计数</i></span></font> <font color="#339933" face="宋体" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">Plus tot;<br></span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font><font face="Arial" size="2"><span style="font-size:10pt"> main</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">()</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">{</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    fin&gt;&gt;n;<br>
    </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">for</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> i=</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;i&lt;=n;i++</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> fin&gt;&gt;val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
    </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">for</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> i=n;i&gt;=</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;i--</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">if</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">&gt;num.</span></font> <font color="#202020" face="Arial" size="2"><span style="font-size:10pt">MAXN</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">())</span></font><font face="Arial" size="2"><span style="font-size:10pt"> val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">=num.</span></font> <font color="#202020" face="Arial" size="2"><span style="font-size:10pt">refresh</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">])</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
            </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">else</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">{</span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">if</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font> <font face="Arial" size="2"><span style="font-size:10pt">val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">&lt;num.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">MAXN</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">())</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">=num.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">change</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font> <font face="Arial" size="2"><span style="font-size:10pt">val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">])</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
                 </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">else</span></font><font face="Arial" size="2"><span style="font-size:10pt"> val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">=num.</span></font> <font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font><font face="Arial" size="2"><span style="font-size:10pt">;</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">for</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font> <font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font><font face="Arial" size="2"><span style="font-size:10pt"> i=n;i&gt;=</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;i--</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">){</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        flag=</span><span style="font-size:10pt"><b>false</b></span><span style="font-size:10pt">;<br>
        </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">for</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font><font face="Arial" size="2"><span style="font-size:10pt"> j=n;j&gt;=i</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">+1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;j--</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">){</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">            </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">if</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">!Find</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">j</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt"> &amp;&amp; val</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font> <font face="Arial" size="2"><span style="font-size:10pt">==val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">j</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">+1 </span></font> <font face="Arial" size="2"><span style="font-size:10pt">&amp;&amp;</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt"> </span></font> <font face="Arial" size="2"><span style="font-size:10pt">val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">&gt;val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">j</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt"> </span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">){</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">                sum</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">=sum</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">+sum</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">j</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
                flag=</span><span style="font-size:10pt"><b>true</b></span><span style="font-size:10pt">;<br>
            </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">            </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">else</span></font><font face="Arial" size="2"><span style="font-size:10pt"> </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">if</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">val</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">==val</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">j</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">])</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> Find</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font> <font face="Arial" size="2"><span style="font-size:10pt">j</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font> <font face="Arial" size="2"><span style="font-size:10pt">=</span><span style="font-size:10pt"><b>true</b></span><span style="font-size:10pt">;</span></font> <font color="#808080" face="Arial" size="2"><span style="font-size:10pt"><i>//</i></span></font><font color="#808080" face="宋体" size="2"><span style="font-size:10pt"><i>避免重复，保留最当前的</i></span></font> <font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        </span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">        </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">if</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">!flag</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt"> sum</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">refresh</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">()</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;</span></font><font color="#808080" face="Arial" size="2"><span style="font-size:10pt"><i>//</i></span></font><font color="#808080" face="宋体" size="2"><span style="font-size:10pt"><i>未找到满足的，初始化为</i></span></font> <font color="#808080" face="Arial" size="2"><span style="font-size:10pt"><i>1</i></span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}</span></font><font color="#339933" face="Arial" size="2"><span style="font-size:10pt"><br></span></font><font face="Arial" size="2"><span style="font-size:10pt">    </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">for</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font> <font color="#993333" face="Arial" size="2"><span style="font-size:10pt">int</span></font><font face="Arial" size="2"><span style="font-size:10pt"> i=n;i&gt;=</span></font> <font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font face="Arial" size="2"><span style="font-size:10pt">;i--</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt"> </span></font> <font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">if</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">(</span></font><font face="Arial" size="2"><span style="font-size:10pt">!Find</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt"> &amp;&amp; val</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">][</span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">1</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font> <font face="Arial" size="2"><span style="font-size:10pt">==num.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">)</span></font><font face="Arial" size="2"><span style="font-size:10pt"> tot=tot+sum</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">[</span></font><font face="Arial" size="2"><span style="font-size:10pt">i</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">]</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
    fout&lt;&lt;num.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">len</span></font> <font face="Arial" size="2"><span style="font-size:10pt">&lt;&lt;</span></font><font color="#FF0000" face="Arial" size="2"><span style="font-size:10pt">' '</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;<br>
    tot.</span></font><font color="#202020" face="Arial" size="2"><span style="font-size:10pt">print</span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">()</span></font><font face="Arial" size="2"><span style="font-size:10pt">;<br>
    </span></font><font color="#B1B100" face="Arial" size="2"><span style="font-size:10pt">return</span></font> <font face="Arial" size="2"><span style="font-size:10pt"> </span></font><font color="#CC66CC" face="Arial" size="2"><span style="font-size:10pt">0</span></font> <font face="Arial" size="2"><span style="font-size:10pt">;<br></span></font><font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">}<br>
/*<br></span></font><font color="#66CC66" face="宋体" size="2"><span style="font-size:10pt">另一种实现的核心代码：同样是记录，来避免重复。但是不保留最当前的，而是查找过的数字仅记录一次。</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt"><br>
for(int i=n;i&gt;=1;i--){<br>
        flag=false;<br>
        memset(Find,0,sizeof(Find));<br>
        for(int j=i+1;j&lt;=n;j++)<br>
            if(!Find[val[j][0]] &amp;&amp; val[i][1]==val[j][1]+1 &amp;&amp; val[i][0]&gt;val[j][0]){<br>
                sum[i]=sum[i]+sum[j];<br>
                Find[val[j][0]]=true;<br>
                flag=true;<br>
            }<br>
        if(!flag) sum[i].refresh();//</span></font><font color="#66CC66" face="宋体" size="2"><span style="font-size:10pt">未找到满足的，必为当前最小值，初始化为</span></font> <font color="#66CC66" face="Arial" size="2"><span style="font-size:10pt">1<br>
    }<br>
    memset(Find,0,sizeof(Find));<br>
    for(int i=n;i&gt;=1;i--)<br>
        if(!Find[val[i][0]] &amp;&amp; val[i][1]==num.len){<br>
            tot=tot+sum[i];<br>
            Find[val[i][0]]=true;<br>
        }<br>
*/</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>注意事项</b></span></font> <font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">1.</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">二分使得找递降序列的复杂度降为</span></font> <font color="#010101" face="Arial" size="2"><span style="font-size:10pt">(NlogN)</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">2.</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">可能是滥用类和结构体的缘故，我的二分没体现多好的时效。</span></font></div><div align="left" style="margin-left:0mm; margin-right:0mm; text-indent:0mm; margin-top:4.75mm; margin-bottom:4.75mm;"><font color="#010101" face="Arial" size="2"><span style="font-size:10pt">3.</span></font><font color="#010101" face="宋体" size="2"><span style="font-size:10pt">我是不是应该直接重载</span></font> <font color="#010101" face="Arial" size="2"><span style="font-size:10pt">&quot;+=&quot;.= =|||</span></font></div><div align="justify"><font color="#010101" face="Arial"><span style="font-size:13pt"><b>[</b></span></font><font color="#010101" face="宋体"><span style="font-size:13pt"><b>难易等级</b></span></font><font color="#010101" face="Arial"><span style="font-size:13pt"><b>]</b></span></font><font color="#010101" face="Arial" size="2"><span style="font-size:10pt"><b> Easy(noip the 3rd)</b></span></font></div></div>
</div></body></html> 